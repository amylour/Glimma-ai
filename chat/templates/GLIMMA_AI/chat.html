{% extends 'GLIMMA_AI/layout.html' %}
{% load static %}

{% block head %}
<title>ChatGPT</title>
{% endblock %}

{% block body %}
<section class="bg bg-gradient bg-light">
    <div class="container py-5">
        <!-- [...] Rest of your HTML remains unchanged -->

        <script>
            // Fetch GPT-3 response immediately on page load.
            window.onload = function() {
                fetch('/ajax/', {
                    method: 'GET',
                    headers: {
                        'X-Requested-With': 'XMLHttpRequest'  // To identify this as an AJAX request
                    }
                })
                .then(response => response.json())
                .then(data => {
                    let chatBox = document.getElementById('chatCard');
                    chatBox.innerHTML += data.data;
                });
            }
        </script>
    </div>
</section>
{% endblock %}
